<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1050 580">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1050" height="580" fill="#fafafa"/>

  <!-- Title -->
  <text x="525" y="30" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="bold" fill="#1e293b">SDD Workflow: Enterprise Integration Points</text>
  <text x="525" y="50" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#64748b">Greenfield uses internal research • Brownfield requires external system integration</text>

  <!-- External Systems Zone -->
  <rect x="20" y="65" width="1010" height="80" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="35" y="85" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#6366f1">📌 EXTERNAL SYSTEMS (MCP Integration)</text>
  
  <!-- External System Boxes - 7 boxes evenly spaced -->
  <!-- Jira -->
  <g transform="translate(35, 95)">
    <rect width="125" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="62" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">📋 Jira</text>
    <text x="62" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Tickets • Requirements</text>
  </g>
  
  <!-- Confluence -->
  <g transform="translate(175, 95)">
    <rect width="125" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="62" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">📚 Confluence</text>
    <text x="62" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">ADRs • Tech standards</text>
  </g>
  
  <!-- Context7 -->
  <g transform="translate(315, 95)">
    <rect width="125" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="62" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">📖 Context7</text>
    <text x="62" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Library docs • APIs</text>
  </g>
  
  <!-- Perplexity -->
  <g transform="translate(455, 95)">
    <rect width="125" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="62" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">🔍 Perplexity</text>
    <text x="62" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">CVEs • Best practices</text>
  </g>
  
  <!-- Vendor APIs -->
  <g transform="translate(595, 95)">
    <rect width="125" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="62" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">💳 Vendor APIs</text>
    <text x="62" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Stripe • Twilio</text>
  </g>
  
  <!-- Snyk/SonarQ -->
  <g transform="translate(735, 95)">
    <rect width="125" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="62" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">🛡️ Snyk/SonarQ</text>
    <text x="62" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Security • Vulns</text>
  </g>
  
  <!-- GitHub -->
  <g transform="translate(875, 95)">
    <rect width="140" height="40" rx="5" fill="#fff" stroke="#6366f1" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="70" y="17" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">🔗 GitHub</text>
    <text x="70" y="31" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Legacy code • CI/CD</text>
  </g>

  <!-- SDD Workflow Zone -->
  <rect x="20" y="155" width="1010" height="280" rx="8" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="35" y="175" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#1e293b">⚙️ SDD WORKFLOW PHASES</text>

  <!-- Row 1: SPECIFY → CLARIFY → PLAN → ANALYZE -->
  
  <!-- SPECIFY -->
  <g transform="translate(35, 185)">
    <rect width="150" height="95" rx="8" fill="#e0f2fe" stroke="#0284c7" stroke-width="2" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#0369a1">📝 SPECIFY</text>
    <text x="75" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.specify</text>
    <line x1="15" y1="48" x2="135" y2="48" stroke="#bae6fd" stroke-width="1"/>
    <text x="75" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Jira tickets</text>
    <text x="75" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Requirements</text>
  </g>

  <!-- Arrow -->
  <line x1="190" y1="232" x2="215" y2="232" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- CLARIFY -->
  <g transform="translate(220, 185)">
    <rect width="150" height="95" rx="8" fill="#dcfce7" stroke="#16a34a" stroke-width="2" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#15803d">❓ CLARIFY</text>
    <text x="75" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.clarify</text>
    <line x1="15" y1="48" x2="135" y2="48" stroke="#bbf7d0" stroke-width="1"/>
    <text x="75" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Confluence ADRs</text>
    <text x="75" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Constraints</text>
  </g>

  <!-- Arrow -->
  <line x1="375" y1="232" x2="400" y2="232" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- PLAN -->
  <g transform="translate(405, 185)">
    <rect width="150" height="95" rx="8" fill="#fef3c7" stroke="#d97706" stroke-width="2" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#b45309">🗺️ PLAN</text>
    <text x="75" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.plan</text>
    <line x1="15" y1="48" x2="135" y2="48" stroke="#fde68a" stroke-width="1"/>
    <text x="75" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Context7 docs</text>
    <text x="75" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Perplexity research</text>
  </g>

  <!-- Arrow -->
  <line x1="560" y1="232" x2="585" y2="232" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ANALYZE -->
  <g transform="translate(590, 185)">
    <rect width="150" height="95" rx="8" fill="#fce7f3" stroke="#db2777" stroke-width="2" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#be185d">🔍 ANALYZE</text>
    <text x="75" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.analyze</text>
    <line x1="15" y1="48" x2="135" y2="48" stroke="#fbcfe8" stroke-width="1"/>
    <text x="75" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Security scans</text>
    <text x="75" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← CVE databases</text>
  </g>

  <!-- Arrow right then down -->
  <line x1="745" y1="232" x2="780" y2="232" stroke="#475569" stroke-width="2"/>
  <line x1="780" y1="232" x2="780" y2="290" stroke="#475569" stroke-width="2"/>
  <line x1="780" y1="290" x2="925" y2="290" stroke="#475569" stroke-width="2"/>
  <line x1="925" y1="290" x2="925" y2="320" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Row 2: CHECKLIST ← IMPLEMENT ← TASKS -->
  
  <!-- TASKS -->
  <g transform="translate(850, 330)">
    <rect width="165" height="95" rx="8" fill="#e0e7ff" stroke="#4f46e5" stroke-width="2" filter="url(#shadow)"/>
    <text x="82" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#3730a3">📋 TASKS</text>
    <text x="82" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.tasks</text>
    <line x1="15" y1="48" x2="150" y2="48" stroke="#c7d2fe" stroke-width="1"/>
    <text x="82" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← GitHub issues</text>
    <text x="82" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Sprint backlog</text>
  </g>

  <!-- Arrow -->
  <line x1="845" y1="377" x2="615" y2="377" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- IMPLEMENT -->
  <g transform="translate(460, 330)">
    <rect width="150" height="95" rx="8" fill="#f3e8ff" stroke="#9333ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#7e22ce">⚡ IMPLEMENT</text>
    <text x="75" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.implement</text>
    <line x1="15" y1="48" x2="135" y2="48" stroke="#e9d5ff" stroke-width="1"/>
    <text x="75" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Vendor SDKs</text>
    <text x="75" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Legacy codebase</text>
  </g>

  <!-- Arrow -->
  <line x1="455" y1="377" x2="280" y2="377" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- CHECKLIST -->
  <g transform="translate(125, 330)">
    <rect width="150" height="95" rx="8" fill="#ccfbf1" stroke="#0d9488" stroke-width="2" filter="url(#shadow)"/>
    <text x="75" y="22" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#0f766e">✅ CHECKLIST</text>
    <text x="75" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.checklist</text>
    <line x1="15" y1="48" x2="135" y2="48" stroke="#99f6e4" stroke-width="1"/>
    <text x="75" y="65" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← Snyk/SonarQube</text>
    <text x="75" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#6366f1" font-style="italic">← CI/CD results</text>
  </g>

  <!-- Comparison Zone -->
  <!-- Part 1: Greenfield -->
  <g transform="translate(20, 450)">
    <rect width="495" height="115" rx="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="1.5"/>
    <text x="247" y="24" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#16a34a">🌱 PART 1: Greenfield</text>
    <text x="25" y="48" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#166534">• AI training data sufficient for research</text>
    <text x="25" y="66" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#166534">• No legacy constraints to navigate</text>
    <text x="25" y="84" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#166534">• Technology choices are yours</text>
    <text x="25" y="102" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#166534">• Focus: Learn spec discipline first</text>
  </g>

  <!-- Part 2: Brownfield -->
  <g transform="translate(535, 450)">
    <rect width="495" height="115" rx="8" fill="#fef2f2" stroke="#ef4444" stroke-width="1.5"/>
    <text x="247" y="24" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#dc2626">🏭 PART 2: Brownfield (Enterprise Reality)</text>
    <text x="25" y="48" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#991b1b">• Must query live external systems (MCP tools)</text>
    <text x="25" y="66" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#991b1b">• Legacy code constrains every decision</text>
    <text x="25" y="84" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#991b1b">• CVE verification before any dependency</text>
    <text x="25" y="102" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#991b1b">• Focus: Apply spec discipline to real work</text>
  </g>
</svg>
