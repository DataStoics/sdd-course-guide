<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 650">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <marker id="feedback-arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#f59e0b"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1100" height="650" fill="#fafafa"/>

  <!-- Title -->
  <text x="550" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="bold" fill="#1e293b">Spec-Driven Development Workflow</text>
  <text x="550" y="52" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#64748b">Specification â†’ Architecture â†’ Implementation â†’ Validation with Human Checkpoints</text>

  <!-- Constitution Box at Top -->
  <g transform="translate(375, 65)">
    <rect width="350" height="70" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <text x="175" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="bold" fill="#b45309">ğŸ›ï¸ CONSTITUTION</text>
    <text x="175" y="44" text-anchor="middle" font-family="monospace" font-size="10" fill="#78716c">/speckit.constitution</text>
    <text x="175" y="60" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#92400e">Immutable principles â€¢ Tech stack â€¢ Security rules â€¢ Coding standards</text>
  </g>

  <!-- Constitution governance border -->
  <rect x="30" y="145" width="1040" height="400" rx="12" fill="none" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4" opacity="0.4"/>
  <text x="50" y="163" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#d97706" opacity="0.7">Constitution governs all phases</text>

  <!-- Swimlane Headers -->
  <rect x="30" y="168" width="1040" height="22" rx="4" fill="#f1f5f9"/>
  <text x="155" y="183" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#64748b">SPECIFICATION</text>
  <text x="295" y="183" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#cbd5e1">â”‚</text>
  <text x="420" y="183" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#64748b">ARCHITECTURE</text>
  <text x="545" y="183" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#cbd5e1">â”‚</text>
  <text x="670" y="183" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#64748b">EXECUTION</text>
  <text x="795" y="183" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#cbd5e1">â”‚</text>
  <text x="920" y="183" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#64748b">VALIDATION</text>

  <!-- Row 1: SPECIFY â†’ CLARIFY â†’ PLAN â†’ ANALYZE -->
  
  <!-- SPECIFY -->
  <g transform="translate(45, 200)">
    <!-- Human checkpoint badge -->
    <rect x="55" y="-16" width="70" height="22" rx="11" fill="#3b82f6" filter="url(#shadow)"/>
    <text x="90" y="-1" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#fff">ğŸ‘¤ Review</text>
    <!-- Main box -->
    <rect width="180" height="115" rx="10" fill="#e0f2fe" stroke="#0284c7" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#0369a1">ğŸ“ SPECIFY</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.specify</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#bae6fd" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#0284c7">WHAT to build</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#0369a1">User stories</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#0369a1">Requirements â€¢ Acceptance</text>
  </g>

  <!-- Arrow SPECIFY â†’ CLARIFY -->
  <line x1="230" y1="257" x2="255" y2="257" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- CLARIFY -->
  <g transform="translate(260, 200)">
    <rect width="180" height="115" rx="10" fill="#dcfce7" stroke="#16a34a" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#15803d">â“ CLARIFY</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.clarify</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#bbf7d0" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#16a34a">Surface unknowns</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#15803d">Edge cases â€¢ Constraints</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#15803d">Dependencies â€¢ Risks</text>
  </g>

  <!-- Arrow CLARIFY â†’ PLAN -->
  <line x1="445" y1="257" x2="470" y2="257" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- PLAN -->
  <g transform="translate(475, 200)">
    <!-- Human checkpoint badge -->
    <rect x="50" y="-16" width="80" height="22" rx="11" fill="#f97316" filter="url(#shadow)"/>
    <text x="90" y="-1" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#fff">ğŸ‘¤ Approve</text>
    <!-- Main box -->
    <rect width="180" height="115" rx="10" fill="#fef3c7" stroke="#d97706" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#b45309">ğŸ—ºï¸ PLAN</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.plan</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#fde68a" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#d97706">HOW to build</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#b45309">Architecture â€¢ ADRs</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#b45309">Tech choices â€¢ IaC</text>
  </g>

  <!-- Arrow PLAN â†’ ANALYZE -->
  <line x1="660" y1="257" x2="685" y2="257" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ANALYZE -->
  <g transform="translate(690, 200)">
    <rect width="180" height="115" rx="10" fill="#fce7f3" stroke="#db2777" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#be185d">ğŸ” ANALYZE</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.analyze</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#fbcfe8" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#db2777">Validate consistency</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#be185d">Constitution compliance</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#be185d">Security â€¢ Policy-as-code</text>
  </g>

  <!-- Arrow down from ANALYZE to TASKS -->
  <path d="M 875 275 L 875 360" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Row 2: TASKS â†’ IMPLEMENT â†’ CHECKLIST -->
  
  <!-- TASKS -->
  <g transform="translate(690, 365)">
    <rect width="180" height="115" rx="10" fill="#e0e7ff" stroke="#4f46e5" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#3730a3">ğŸ“‹ TASKS</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.tasks</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#c7d2fe" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#4f46e5">Break into actions</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#3730a3">Dependencies â€¢ Phases</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#3730a3">Environment targeting</text>
  </g>

  <!-- Arrow TASKS â†’ IMPLEMENT -->
  <line x1="685" y1="422" x2="660" y2="422" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- IMPLEMENT -->
  <g transform="translate(475, 365)">
    <!-- Human checkpoint badge -->
    <rect x="55" y="-16" width="70" height="22" rx="11" fill="#3b82f6" filter="url(#shadow)"/>
    <text x="90" y="-1" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#fff">ğŸ‘¤ Review</text>
    <!-- Main box -->
    <rect width="180" height="115" rx="10" fill="#f3e8ff" stroke="#9333ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#7e22ce">âš¡ IMPLEMENT</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.implement</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#e9d5ff" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#9333ea">AI generates code</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#7e22ce">TDD â€¢ Feature flags</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#7e22ce">Progressive delivery</text>
  </g>

  <!-- Arrow IMPLEMENT â†’ CHECKLIST -->
  <line x1="470" y1="422" x2="445" y2="422" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- CHECKLIST -->
  <g transform="translate(260, 365)">
    <!-- Done badge -->
    <rect x="55" y="-16" width="70" height="22" rx="11" fill="#10b981" filter="url(#shadow)"/>
    <text x="90" y="-1" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#fff">âœ… Done</text>
    <!-- Main box -->
    <rect width="180" height="115" rx="10" fill="#ccfbf1" stroke="#0d9488" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#0f766e">â˜‘ï¸ CHECKLIST</text>
    <text x="90" y="42" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">/speckit.checklist</text>
    <line x1="20" y1="52" x2="160" y2="52" stroke="#99f6e4" stroke-width="1"/>
    <text x="90" y="68" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#0d9488">Quality validation</text>
    <text x="90" y="84" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#0f766e">Security â€¢ Tests â€¢ UX</text>
    <text x="90" y="98" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#0f766e">Compliance â€¢ Audit</text>
  </g>

  <!-- Arrow CHECKLIST â†’ Deploy/Observability -->
  <line x1="255" y1="422" x2="230" y2="422" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- DEPLOY & OBSERVE -->
  <g transform="translate(45, 365)">
    <rect width="180" height="115" rx="10" fill="#dbeafe" stroke="#2563eb" stroke-width="2" filter="url(#shadow)"/>
    <text x="90" y="26" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="13" font-weight="bold" fill="#1d4ed8">ğŸš€ DEPLOY</text>
    <line x1="20" y1="38" x2="160" y2="38" stroke="#93c5fd" stroke-width="1"/>
    <text x="90" y="54" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#1d4ed8">DEV â†’ Staging â†’ Production</text>
    <text x="90" y="70" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#1d4ed8">Canary â†’ Full rollout</text>
    <line x1="20" y1="80" x2="160" y2="80" stroke="#93c5fd" stroke-width="1"/>
    <text x="90" y="94" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#dc2626">ğŸ“Š Observability</text>
    <text x="90" y="108" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#ef4444">Metrics â€¢ Logs â€¢ Alerts</text>
  </g>

  <!-- Feedback Loops - Clean curved arrows -->
  <!-- Feedback from DEPLOY back to SPECIFY (scope change) -->
  <path d="M 135 485 Q 135 520 30 520 Q 20 520 20 400 Q 20 257 40 257" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#feedback-arrow)" opacity="0.7"/>
  <text x="25" y="395" font-family="Segoe UI, Arial, sans-serif" font-size="7" fill="#d97706" transform="rotate(-90, 25, 395)">Scope change</text>

  <!-- Feedback from CHECKLIST back to IMPLEMENT (test failure) -->
  <path d="M 350 485 Q 350 510 480 510 Q 565 510 565 485" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#feedback-arrow)" opacity="0.7"/>
  <text x="420" y="522" font-family="Segoe UI, Arial, sans-serif" font-size="7" fill="#d97706">Test failure</text>

  <!-- Feedback from DEPLOY back to PLAN (incident/architecture) -->
  <path d="M 45 422 Q 30 422 30 340 Q 30 200 475 200 Q 555 200 555 195" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#feedback-arrow)" opacity="0.7"/>
  <text x="250" y="195" font-family="Segoe UI, Arial, sans-serif" font-size="7" fill="#d97706">Incident pattern â†’ Architecture review</text>

  <!-- Legend -->
  <g transform="translate(45, 560)">
    <rect width="1015" height="70" rx="8" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
    <text x="20" y="20" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="600" fill="#1e293b">Legend</text>
    
    <line x1="20" y1="42" x2="60" y2="42" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4" opacity="0.6"/>
    <text x="70" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#64748b">Constitution governs all</text>
    
    <line x1="200" y1="42" x2="240" y2="42" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="250" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#64748b">Workflow progression</text>
    
    <path d="M 380 42 Q 400 35 420 42" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#feedback-arrow)"/>
    <text x="430" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#64748b">Feedback loop</text>
    
    <rect x="540" y="32" width="55" height="18" rx="9" fill="#3b82f6"/>
    <text x="567" y="45" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="8" font-weight="600" fill="#fff">ğŸ‘¤ Action</text>
    <text x="610" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#64748b">Human checkpoint</text>
    
    <text x="720" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#475569">Phases:</text>
    <rect x="770" y="36" width="10" height="10" rx="2" fill="#e0f2fe" stroke="#0284c7"/>
    <text x="785" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Spec</text>
    <rect x="810" y="36" width="10" height="10" rx="2" fill="#fef3c7" stroke="#d97706"/>
    <text x="825" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Arch</text>
    <rect x="855" y="36" width="10" height="10" rx="2" fill="#f3e8ff" stroke="#9333ea"/>
    <text x="870" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Exec</text>
    <rect x="900" y="36" width="10" height="10" rx="2" fill="#ccfbf1" stroke="#0d9488"/>
    <text x="915" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Valid</text>
    <rect x="950" y="36" width="10" height="10" rx="2" fill="#dbeafe" stroke="#2563eb"/>
    <text x="965" y="46" font-family="Segoe UI, Arial, sans-serif" font-size="8" fill="#64748b">Deploy</text>
  </g>
</svg>