<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1050 620">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1050" height="620" fill="#fafafa"/>

  <!-- Title -->
  <text x="525" y="35" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="bold" fill="#1e293b">Spec-Driven Development Workflow</text>

  <!-- Constitution Box at Top -->
  <g transform="translate(350, 55)">
    <rect width="350" height="85" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <text x="175" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" font-weight="bold" fill="#b45309">🏛️ CONSTITUTION</text>
    <text x="175" y="52" text-anchor="middle" font-family="monospace" font-size="11" fill="#78716c">/speckit.constitution</text>
    <text x="175" y="72" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#92400e">Immutable principles • Tech stack • Security rules</text>
  </g>

  <!-- Constitution governance indicator - subtle border around all workflow phases -->
  <rect x="40" y="160" width="970" height="420" rx="12" fill="none" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4" opacity="0.5"/>
  <text x="60" y="180" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#d97706" opacity="0.8">Constitution governs all phases ↓</text>

  <!-- Row 1: SPECIFY → CLARIFY → PLAN → ANALYZE -->
  
  <!-- SPECIFY -->
  <g transform="translate(55, 200)">
    <!-- Human checkpoint badge -->
    <rect x="65" y="-18" width="70" height="24" rx="12" fill="#3b82f6" filter="url(#shadow)"/>
    <text x="100" y="-2" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">👤 Review</text>
    <!-- Main box -->
    <rect width="200" height="130" rx="10" fill="#e0f2fe" stroke="#0284c7" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#0369a1">📝 SPECIFY</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.specify</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#bae6fd" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#0284c7">WHAT to build</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#0369a1">User stories • Requirements</text>
  </g>

  <!-- Arrow -->
  <line x1="260" y1="265" x2="290" y2="265" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>

  <!-- CLARIFY -->
  <g transform="translate(295, 200)">
    <rect width="200" height="130" rx="10" fill="#dcfce7" stroke="#16a34a" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#15803d">❓ CLARIFY</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.clarify</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#bbf7d0" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#16a34a">Surface unknowns</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#15803d">Edge cases • Constraints</text>
  </g>

  <!-- Arrow -->
  <line x1="500" y1="265" x2="530" y2="265" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>

  <!-- PLAN -->
  <g transform="translate(535, 200)">
    <!-- Human checkpoint badge -->
    <rect x="60" y="-18" width="80" height="24" rx="12" fill="#f97316" filter="url(#shadow)"/>
    <text x="100" y="-2" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">👤 Approve</text>
    <!-- Main box -->
    <rect width="200" height="130" rx="10" fill="#fef3c7" stroke="#d97706" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#b45309">🗺️ PLAN</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.plan</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#fde68a" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#d97706">HOW to build</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#b45309">Architecture • Tech choices</text>
  </g>

  <!-- Arrow -->
  <line x1="740" y1="265" x2="770" y2="265" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>

  <!-- ANALYZE -->
  <g transform="translate(775, 200)">
    <rect width="200" height="130" rx="10" fill="#fce7f3" stroke="#db2777" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#be185d">🔍 ANALYZE</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.analyze</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#fbcfe8" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#db2777">Validate consistency</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#be185d">Constitution compliance</text>
  </g>

  <!-- Arrow down from ANALYZE -->
  <line x1="875" y1="335" x2="875" y2="385" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>

  <!-- Row 2: CHECKLIST ← IMPLEMENT ← TASKS -->
  
  <!-- TASKS -->
  <g transform="translate(775, 400)">
    <rect width="200" height="130" rx="10" fill="#e0e7ff" stroke="#4f46e5" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#3730a3">📋 TASKS</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.tasks</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#c7d2fe" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#4f46e5">Break into actions</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#3730a3">Dependencies • Phases</text>
  </g>

  <!-- Arrow -->
  <line x1="770" y1="465" x2="740" y2="465" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>

  <!-- IMPLEMENT -->
  <g transform="translate(535, 400)">
    <!-- Human checkpoint badge -->
    <rect x="65" y="-18" width="70" height="24" rx="12" fill="#3b82f6" filter="url(#shadow)"/>
    <text x="100" y="-2" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">👤 Review</text>
    <!-- Main box -->
    <rect width="200" height="130" rx="10" fill="#f3e8ff" stroke="#9333ea" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#7e22ce">⚡ IMPLEMENT</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.implement</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#e9d5ff" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#9333ea">AI generates code</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#7e22ce">TDD • Human review</text>
  </g>

  <!-- Arrow -->
  <line x1="530" y1="465" x2="500" y2="465" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>

  <!-- CHECKLIST -->
  <g transform="translate(295, 400)">
    <!-- Done badge -->
    <rect x="65" y="-18" width="70" height="24" rx="12" fill="#10b981" filter="url(#shadow)"/>
    <text x="100" y="-2" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">✅ Done</text>
    <!-- Main box -->
    <rect width="200" height="130" rx="10" fill="#ccfbf1" stroke="#0d9488" stroke-width="2.5" filter="url(#shadow)"/>
    <text x="100" y="32" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="bold" fill="#0f766e">☑️ CHECKLIST</text>
    <text x="100" y="52" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">/speckit.checklist</text>
    <line x1="25" y1="65" x2="175" y2="65" stroke="#99f6e4" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="600" fill="#0d9488">Quality validation</text>
    <text x="100" y="105" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#0f766e">Security • UX • Tests</text>
  </g>

  <!-- Legend -->
  <g transform="translate(55, 560)">
    <text x="0" y="12" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="600" fill="#64748b">Legend:</text>
    
    <!-- Dashed line -->
    <line x1="70" y1="8" x2="120" y2="8" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4" opacity="0.6"/>
    <text x="130" y="12" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#64748b">Constitution governs all phases</text>
    
    <!-- Solid arrow -->
    <line x1="370" y1="8" x2="420" y2="8" stroke="#475569" stroke-width="2.5" marker-end="url(#arrow)"/>
    <text x="435" y="12" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#64748b">Workflow progression</text>
    
    <!-- Badge -->
    <rect x="600" y="-2" width="60" height="20" rx="10" fill="#3b82f6"/>
    <text x="630" y="12" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="9" font-weight="600" fill="#fff">👤 Action</text>
    <text x="680" y="12" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#64748b">Human checkpoint</text>
  </g>
</svg>
