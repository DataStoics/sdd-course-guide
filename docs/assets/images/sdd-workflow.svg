<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 480">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="1" dy="1" stdDeviation="2" flood-opacity="0.1"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="480" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">Spec-Driven Development Workflow</text>
  
  <!-- CONSTITUTION Box (Top - Governance) centered at x=450, y=50 -->
  <g transform="translate(300, 50)">
    <rect width="300" height="70" rx="8" fill="#fff3cd" stroke="#b8860b" stroke-width="2"/>
    <text x="150" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#856404">🏛️ CONSTITUTION</text>
    <text x="150" y="40" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.constitution</text>
    <text x="150" y="58" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#856404">Immutable principles • Tech stack • Security rules</text>
  </g>
  
  <!-- Dashed lines from Constitution (center x=450, bottom y=120) to workflow phases -->
  <line x1="450" y1="120" x2="120" y2="160" stroke="#b8860b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="450" y1="120" x2="310" y2="160" stroke="#b8860b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="450" y1="120" x2="500" y2="160" stroke="#b8860b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="450" y1="120" x2="690" y2="160" stroke="#b8860b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="450" y1="120" x2="120" y2="290" stroke="#b8860b" stroke-width="1.5" stroke-dasharray="4,3"/>
  
  <!-- ═══════════════════════════════════════════════════════════════ -->
  <!-- Row 1: SPECIFY → CLARIFY → PLAN → ANALYZE -->
  <!-- ═══════════════════════════════════════════════════════════════ -->
  
  <!-- SPECIFY Box at x=40, y=160, width=160, height=90 -->
  <g transform="translate(40, 160)">
    <rect width="160" height="90" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#0d47a1">📝 SPECIFY</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.specify</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#bbdefb" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1565c0">WHAT to build</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1565c0">User stories • Requirements</text>
    <!-- Human checkpoint badge -->
    <rect x="110" y="-12" width="55" height="20" rx="10" fill="#1976d2" stroke="#0d47a1" stroke-width="1"/>
    <text x="137" y="3" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">👤 Review</text>
  </g>
  
  <!-- Arrow: SPECIFY to CLARIFY -->
  <line x1="205" y1="205" x2="225" y2="205" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- CLARIFY Box at x=230, y=160, width=160, height=90 -->
  <g transform="translate(230, 160)">
    <rect width="160" height="90" rx="8" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">❓ CLARIFY</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.clarify</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#c8e6c9" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2e7d32">Surface unknowns</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2e7d32">Edge cases • Constraints</text>
  </g>
  
  <!-- Arrow: CLARIFY to PLAN -->
  <line x1="395" y1="205" x2="415" y2="205" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- PLAN Box at x=420, y=160, width=160, height=90 -->
  <g transform="translate(420, 160)">
    <rect width="160" height="90" rx="8" fill="#fff3e0" stroke="#f57c00" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">🗺️ PLAN</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.plan</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#ffe0b2" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#ef6c00">HOW to build</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#ef6c00">Architecture • Tech choices</text>
    <!-- Human checkpoint badge -->
    <rect x="105" y="-12" width="60" height="20" rx="10" fill="#f57c00" stroke="#e65100" stroke-width="1"/>
    <text x="135" y="3" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">👤 Approve</text>
  </g>
  
  <!-- Arrow: PLAN to ANALYZE -->
  <line x1="585" y1="205" x2="605" y2="205" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- ANALYZE Box at x=610, y=160, width=160, height=90 -->
  <g transform="translate(610, 160)">
    <rect width="160" height="90" rx="8" fill="#fce4ec" stroke="#c2185b" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#880e4f">🔍 ANALYZE</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.analyze</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#f8bbd9" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#ad1457">Validate consistency</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#ad1457">Constitution compliance</text>
  </g>
  
  <!-- Arrow down: ANALYZE to TASKS -->
  <line x1="690" y1="255" x2="690" y2="285" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- ═══════════════════════════════════════════════════════════════ -->
  <!-- Row 2: CHECKLIST ← IMPLEMENT ← TASKS -->
  <!-- ═══════════════════════════════════════════════════════════════ -->
  
  <!-- TASKS Box at x=610, y=290, width=160, height=90 -->
  <g transform="translate(610, 290)">
    <rect width="160" height="90" rx="8" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1a237e">📋 TASKS</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.tasks</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#c5cae9" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#303f9f">Break into actions</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#303f9f">Dependencies • Phases</text>
  </g>
  
  <!-- Arrow: TASKS to IMPLEMENT -->
  <line x1="605" y1="335" x2="395" y2="335" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- IMPLEMENT Box at x=230, y=290, width=160, height=90 -->
  <g transform="translate(230, 290)">
    <rect width="160" height="90" rx="8" fill="#ede7f6" stroke="#7b1fa2" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">⚡ IMPLEMENT</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.implement</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#d1c4e9" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6a1b9a">AI generates code</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6a1b9a">TDD • Human review</text>
    <!-- Human checkpoint badge -->
    <rect x="105" y="-12" width="60" height="20" rx="10" fill="#7b1fa2" stroke="#4a148c" stroke-width="1"/>
    <text x="135" y="3" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">👤 Review</text>
  </g>
  
  <!-- Arrow: IMPLEMENT to CHECKLIST -->
  <line x1="225" y1="335" x2="205" y2="335" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- CHECKLIST Box at x=40, y=290, width=160, height=90 -->
  <g transform="translate(40, 290)">
    <rect width="160" height="90" rx="8" fill="#e0f2f1" stroke="#00897b" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#004d40">✅ CHECKLIST</text>
    <text x="80" y="43" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">/speckit.checklist</text>
    <line x1="20" y1="53" x2="140" y2="53" stroke="#b2dfdb" stroke-width="1"/>
    <text x="80" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#00695c">Quality validation</text>
    <text x="80" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#00695c">Security • UX • Tests</text>
    <!-- DONE indicator -->
    <rect x="105" y="-12" width="50" height="20" rx="10" fill="#00897b" stroke="#004d40" stroke-width="1"/>
    <text x="130" y="3" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">🏁 Done</text>
  </g>
  
  <!-- ═══════════════════════════════════════════════════════════════ -->
  <!-- Legend -->
  <!-- ═══════════════════════════════════════════════════════════════ -->
  <g transform="translate(50, 420)">
    <text x="0" y="12" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#333">Legend:</text>
    
    <!-- Constitution governs -->
    <line x1="70" y1="8" x2="110" y2="8" stroke="#b8860b" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="120" y="12" font-family="Arial, sans-serif" font-size="9" fill="#666">Constitution governs all phases</text>
    
    <!-- Workflow progression -->
    <line x1="320" y1="8" x2="360" y2="8" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="370" y="12" font-family="Arial, sans-serif" font-size="9" fill="#666">Workflow progression</text>
    
    <!-- Human checkpoint -->
    <rect x="530" y="0" width="55" height="16" rx="8" fill="#666" stroke="#333" stroke-width="1"/>
    <text x="557" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">👤 Action</text>
    <text x="600" y="12" font-family="Arial, sans-serif" font-size="9" fill="#666">Human checkpoint</text>
  </g>
  
  <!-- Flow summary at bottom -->
  <text x="450" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">
    Flow: SPECIFY → CLARIFY → PLAN → ANALYZE → TASKS → IMPLEMENT → CHECKLIST ✓
  </text>
</svg>
